language: go
go:
  - 1.8.x
  - 1.9.x
sudo: false

script:
  - export GOROOT=/usr/local/go
  - export GOPATH=$HOME/go
  - export PATH=$PATH:$GOROOT/bin:$GOPATH/bin
  
install:
  - git clone https://github.com/pyx-partners/dmgd $GOPATH/src/github.com/pyx-partners/dmgd
  - cd $GOPATH/src/github.com/pyx-partners/dmgd
  - go get -u github.com/Masterminds/glide
  - glide install
  - go install . ./cmd/...
  - cd $GOPATH/src/github.com/pyx-partners/dmgd/blockchain
  - go test -v
